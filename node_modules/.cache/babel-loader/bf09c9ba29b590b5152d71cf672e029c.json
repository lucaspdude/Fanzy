{"ast":null,"code":"var _jsxFileName = \"/home/lucas/Dev/Pessoal/App/src/pages/Dashboard/components/Avaliacoes/index.jsx\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport AccordionContext from 'react-bootstrap/AccordionContext';\nimport { useAccordionToggle } from 'react-bootstrap/AccordionToggle';\nimport { MdMessage, MdStar } from 'react-icons/md';\nimport { FaCaretDown, FaChevronDown, FaChevronUp } from 'react-icons/fa';\nimport { useSelector } from 'react-redux';\nimport api from \"../../../../services/api\";\nimport Relatorios from \"../../../../components/Relatorios\";\nimport Avaliacao from './components/AvaliacaoSingle';\nexport default function Avaliacoes({\n  usuario\n}) {\n  const [currentSelected, setCurrentSelected] = useState(false);\n\n  function ContextAwareToggle({\n    children,\n    eventKey,\n    callback\n  }) {\n    const currentEventKey = useContext(AccordionContext);\n    const decoratedOnClick = useAccordionToggle(eventKey, () => callback && callback(eventKey));\n    const isCurrentEventKey = currentEventKey === eventKey;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: decoratedOnClick,\n      onClickCapture: () => setCurrentSelected(!currentEventKey),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }\n    }, isCurrentEventKey ? /*#__PURE__*/React.createElement(FaChevronUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 30\n      }\n    }) : /*#__PURE__*/React.createElement(FaChevronDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 48\n      }\n    }));\n  } // const avaliacoes = useSelector(state => state.user.profile.avaliacoes);\n\n\n  const [avaliacoes, setAvaliacoes] = useState();\n  const profile = useSelector(state => state.user.profile);\n\n  function estrelasAvaliacao(nota) {\n    var estrela;\n    var estrelasCount = [];\n\n    for (estrela = 0; estrela < nota; estrela++) {\n      estrelasCount.push(estrela);\n    }\n\n    return estrelasCount.map(estrela => /*#__PURE__*/React.createElement(MdStar, {\n      key: estrela,\n      className: \"estrela\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 36\n      }\n    }));\n  }\n\n  function dateFormat(date) {\n    return new Date(date).toLocaleDateString('pt-BR');\n  }\n\n  useEffect(() => {\n    // api.get(`estabelecimentos/${profile.id}`)\n    //   .then(response => {\n    //     setAvaliacoes(response.data.avaliacoes)\n    //   })\n    //   .catch(error => {\n    //     console.log(error.response)\n    //   })\n    setAvaliacoes(profile.avaliacoes);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relatorios avaliacoes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avaliacao-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"titles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"Data\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avaliacao\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Avalia\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"usuarios\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"Quem estava na mesa\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comentario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Coment\\xE1rio\")), !usuario && avaliacoes && avaliacoes.map(avaliacao => {\n    return /*#__PURE__*/React.createElement(Avaliacao, {\n      key: avaliacao.id,\n      avaliacao: avaliacao,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    });\n  }), usuario && avaliacoes && avaliacoes.filter(avaliacao => {\n    return avaliacao.user_id === usuario.id;\n  }).map(avaliacao => {\n    return /*#__PURE__*/React.createElement(Avaliacao, {\n      key: avaliacao.id,\n      avaliacao: avaliacao,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    });\n  }))));\n}","map":{"version":3,"sources":["/home/lucas/Dev/Pessoal/App/src/pages/Dashboard/components/Avaliacoes/index.jsx"],"names":["React","useEffect","useState","useContext","Accordion","AccordionContext","useAccordionToggle","MdMessage","MdStar","FaCaretDown","FaChevronDown","FaChevronUp","useSelector","api","Relatorios","Avaliacao","Avaliacoes","usuario","currentSelected","setCurrentSelected","ContextAwareToggle","children","eventKey","callback","currentEventKey","decoratedOnClick","isCurrentEventKey","avaliacoes","setAvaliacoes","profile","state","user","estrelasAvaliacao","nota","estrela","estrelasCount","push","map","dateFormat","date","Date","toLocaleDateString","avaliacao","id","filter","user_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,gBAAP,MAA6B,kCAA7B;AACA,SAASC,kBAAT,QAAmC,iCAAnC;AAEA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,gBAAlC;AACA,SAASC,WAAT,EAAsBC,aAAtB,EAAqCC,WAArC,QAAuD,gBAAvD;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,GAAP,MAAgB,0BAAhB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AAEA,eAAe,SAASC,UAAT,CAAoB;AAACC,EAAAA;AAAD,CAApB,EAA+B;AAC5C,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCjB,QAAQ,CAAC,KAAD,CAAtD;;AAGA,WAASkB,kBAAT,CAA4B;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA;AAAtB,GAA5B,EAA8D;AAC5D,UAAMC,eAAe,GAAGrB,UAAU,CAACE,gBAAD,CAAlC;AAGA,UAAMoB,gBAAgB,GAAGnB,kBAAkB,CACzCgB,QADyC,EAEzC,MAAMC,QAAQ,IAAIA,QAAQ,CAACD,QAAD,CAFe,CAA3C;AAKA,UAAMI,iBAAiB,GAAGF,eAAe,KAAKF,QAA9C;AAEA,wBACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,OAAO,EAAEG,gBAFX;AAGE,MAAA,cAAc,EAAE,MAAMN,kBAAkB,CAAC,CAACK,eAAF,CAH1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGE,iBAAiB,gBAAG,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,gBAAqB,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANzC,CADF;AAUD,GAzB2C,CAgC5C;;;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8B1B,QAAQ,EAA5C;AACA,QAAM2B,OAAO,GAAGjB,WAAW,CAACkB,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWF,OAArB,CAA3B;;AAEA,WAASG,iBAAT,CAA2BC,IAA3B,EAAiC;AAC/B,QAAIC,OAAJ;AACA,QAAIC,aAAa,GAAG,EAApB;;AACA,SAAKD,OAAO,GAAG,CAAf,EAAkBA,OAAO,GAAGD,IAA5B,EAAkCC,OAAO,EAAzC,EAA6C;AAC3CC,MAAAA,aAAa,CAACC,IAAd,CAAmBF,OAAnB;AACD;;AACD,WACEC,aAAa,CAACE,GAAd,CAAkBH,OAAO,iBAAI,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEA,OAAb;AAAsB,MAAA,SAAS,EAAC,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA7B,CADF;AAGD;;AAED,WAASI,UAAT,CAAoBC,IAApB,EAAyB;AAEvB,WAAO,IAAIC,IAAJ,CAASD,IAAT,EAAeE,kBAAf,CAAkC,OAAlC,CAAP;AACD;;AAEDxC,EAAAA,SAAS,CAAC,MAAM;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AAEA2B,IAAAA,aAAa,CAACC,OAAO,CAACF,UAAT,CAAb;AAED,GAZQ,EAYN,EAZM,CAAT;AAeA,sBACE,uDAEI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,eAGE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAHF,eAIE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJF,CADJ,EAOK,CAACV,OAAD,IAAYU,UAAZ,IAA0BA,UAAU,CAACU,GAAX,CAAeK,SAAS,IAAI;AACrD,wBACE,oBAAC,SAAD;AAAW,MAAA,GAAG,EAAEA,SAAS,CAACC,EAA1B;AAA8B,MAAA,SAAS,EAAED,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD,GAJ0B,CAP/B,EAaKzB,OAAO,IAAIU,UAAX,IAAyBA,UAAU,CAACiB,MAAX,CAAkBF,SAAS,IAAI;AACvD,WAAOA,SAAS,CAACG,OAAV,KAAsB5B,OAAO,CAAC0B,EAArC;AACD,GAFyB,EAEvBN,GAFuB,CAEnBK,SAAS,IAAI;AAClB,wBACE,oBAAC,SAAD;AAAW,MAAA,GAAG,EAAEA,SAAS,CAACC,EAA1B;AAA8B,MAAA,SAAS,EAAED,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD,GANyB,CAb9B,CADF,CAFJ,CADF;AA6BD","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport AccordionContext from 'react-bootstrap/AccordionContext'\nimport { useAccordionToggle } from 'react-bootstrap/AccordionToggle'\n\nimport { MdMessage, MdStar } from 'react-icons/md';\nimport { FaCaretDown, FaChevronDown, FaChevronUp} from 'react-icons/fa';\nimport { useSelector } from 'react-redux';\nimport api from '~/services/api';\nimport Relatorios from '~/components/Relatorios';\nimport Avaliacao from './components/AvaliacaoSingle';\n\nexport default function Avaliacoes({usuario}) {\n  const [currentSelected, setCurrentSelected] = useState(false);\n\n\n  function ContextAwareToggle({ children, eventKey, callback }) {\n    const currentEventKey = useContext(AccordionContext);\n\n    \n    const decoratedOnClick = useAccordionToggle(\n      eventKey,\n      () => callback && callback(eventKey),\n    );\n  \n    const isCurrentEventKey = currentEventKey === eventKey;\n  \n    return (\n      <button\n        type=\"button\"\n        onClick={decoratedOnClick}\n        onClickCapture={() => setCurrentSelected(!currentEventKey)}\n\n      >\n        {isCurrentEventKey ? <FaChevronUp /> : <FaChevronDown />}\n      </button>\n    );\n  }\n\n\n\n\n\n\n  // const avaliacoes = useSelector(state => state.user.profile.avaliacoes);\n  const [avaliacoes, setAvaliacoes] = useState()\n  const profile = useSelector(state => state.user.profile);\n\n  function estrelasAvaliacao(nota) {\n    var estrela;\n    var estrelasCount = [];\n    for (estrela = 0; estrela < nota; estrela++) {\n      estrelasCount.push(estrela);\n    }\n    return (\n      estrelasCount.map(estrela => <MdStar key={estrela} className=\"estrela\" />)\n    ) \n  }\n\n  function dateFormat(date){\n\n    return new Date(date).toLocaleDateString('pt-BR');\n  }\n\n  useEffect(() => {\n\n    // api.get(`estabelecimentos/${profile.id}`)\n    //   .then(response => {\n    //     setAvaliacoes(response.data.avaliacoes)\n    //   })\n    //   .catch(error => {\n    //     console.log(error.response)\n    //   })\n\n    setAvaliacoes(profile.avaliacoes)\n\n  }, [])\n\n\n  return (\n    <>\n\n        <div className=\"relatorios avaliacoes\">\n          <div className=\"avaliacao-list\">\n              <div className=\"titles\">\n                <div className=\"data\">Data</div>\n                <div className=\"avaliacao\">Avaliação</div>\n                <div className=\"usuarios\">Quem estava na mesa</div>\n                <div className=\"comentario\">Comentário</div>\n              </div>\n              {!usuario && avaliacoes && avaliacoes.map(avaliacao => {\n                return(\n                  <Avaliacao key={avaliacao.id} avaliacao={avaliacao} />\n                )\n              })}\n\n              {usuario && avaliacoes && avaliacoes.filter(avaliacao => {\n                return avaliacao.user_id === usuario.id\n              }).map(avaliacao => {\n                return(\n                  <Avaliacao key={avaliacao.id} avaliacao={avaliacao} />\n                )\n              })}\n          </div>\n        </div>\n        \n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}